<section id="contact" class="contact-section">
    <div class="contact-bg-shadow"></div>
    <div class="contact-container">
        <div class="contact-header">
            <h1>{{ 'CONTACT.TITLE' | translate }}</h1>
            <img src="assets/img/contact-green-line.png" alt="" class="contact-green-line">
        </div>
        <div class="contact-content">
            <div class="contact-info">
                <div class="line-helper">
                    <img src="assets/img/contact-blue-line.png" alt="" class="contact-blue-line">
                    <h2>{{ 'CONTACT.SUBTITLE' | translate }}</h2>
                </div>
                <p>
                    {{ 'CONTACT.DESCRIPTION' | translate }}<br><br>
                    {{ 'CONTACT.CTA' | translate }}
                </p>
            </div>
            <form class="contact-form" (ngSubmit)="onSubmit()" #form="ngForm">
                <div class="input-group" [class.error]="nameValid === false" [class.success]="nameValid === true">
                    <input type="text" [placeholder]="'CONTACT.NAME' | translate" [(ngModel)]="name" name="name" required
                        (ngModelChange)="validateName()" [disabled]="isSending" />
                    @if (nameValid === false) {
                    <img src="assets/img/required.png" alt="Required" class="input-icon error-icon">
                    }
                    @if (nameValid === true) {
                    <img src="assets/img/readystate.png" alt="Valid" class="input-icon success-icon">
                    }
                </div>
                @if (nameValid === false) {
                <div class="error-message">{{ 'CONTACT.ERROR_NAME' | translate }}</div>
                }

                <div class="input-group" [class.error]="emailValid === false" [class.success]="emailValid === true">
                    <input type="email" [placeholder]="'CONTACT.EMAIL' | translate" [(ngModel)]="email" name="email" required
                        (ngModelChange)="validateEmail()" [disabled]="isSending" />
                    @if (emailValid === false) {
                    <img src="assets/img/required.png" alt="Required" class="input-icon error-icon">
                    }
                    @if (emailValid === true) {
                    <img src="assets/img/readystate.png" alt="Valid" class="input-icon success-icon">
                    }
                </div>
                @if (emailValid === false) {
                <div class="error-message">{{ 'CONTACT.ERROR_EMAIL' | translate }}</div>
                }

                <div class="input-group" [class.error]="messageValid === false" [class.success]="messageValid === true">
                    <textarea [placeholder]="'CONTACT.MESSAGE' | translate" [(ngModel)]="message" name="message" required
                        (ngModelChange)="validateMessage()" [disabled]="isSending"></textarea>
                    @if (messageValid === false) {
                    <img src="assets/img/required.png" alt="Required" class="input-icon error-icon">
                    }
                    @if (messageValid === true) {
                    <img src="assets/img/readystate.png" alt="Valid" class="input-icon success-icon">
                    }
                </div>
                @if (messageValid === false) {
                <div class="error-message">{{ 'CONTACT.ERROR_MESSAGE' | translate }}</div>
                }

                <div class="contact-privacy">
                    <input type="checkbox" id="privacy" [(ngModel)]="privacyChecked" required name="privacy" [disabled]="isSending">
                    <label for="privacy">
                        {{ 'CONTACT.PRIVACY' | translate }}
                        <a routerLink="/privacy" class="privacy-link">{{ 'CONTACT.PRIVACY_LINK' | translate }}</a>
                        {{ 'CONTACT.PRIVACY_AGREE' | translate }}
                    </label>
                </div>

                @if (sendSuccess) {
                <div class="success-notification">
                    {{ 'CONTACT.SUCCESS' | translate }}
                </div>
                }

                @if (sendError) {
                <div class="error-notification">
                    {{ 'CONTACT.ERROR' | translate }}
                </div>
                }

                <div class="center">
                    <button type="submit" class="contact-submit"
                        [disabled]="!(nameValid && emailValid && messageValid && privacyChecked) || isSending">
                        @if (isSending) {
                        <span>{{ 'CONTACT.SENDING' | translate }}</span>
                        } @else {
                        <span>{{ 'CONTACT.BUTTON' | translate }}</span>
                        }
                    </button>
                </div>
            </form>
        </div>
        <a href="#top" class="contact-arrow">
            <img src="assets/img/arrow-up.png" alt="Go up">
        </a>
    </div>
</section>